{"mappings":"AA2CgB,CAAAA,IACd,MAAMC,EAAM,gCAAgCD,IAE5C,OAAO,IAAIE,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAM,IAAIC,eAEhBD,EAAIE,KAAK,MAAON,GAChBI,EAAIG,OACJH,EAAII,iBAAiB,QAAQ,KAC3BN,EAAQE,MAEVA,EAAII,iBAAiB,SAAS,KAC5BL,EAASC,UAKfK,CAAQ,eACLC,MAAKC,IACJC,QAAQC,IAAIF,GACY,MAApBA,EAASG,OACJC,KAAKC,MAAML,EAASM,cAGtBhB,QAAQiB,OAAO,cAEvBR,MAAKS,IACJP,QAAQC,IAAIM,MAEbC,OAAMC,IACLT,QAAQC,IAAIQ,MAEbC,SAAQ,KACPV,QAAQC,IAAI","sources":["src/js/promisification.js"],"sourcesContent":["//? Запит за користувачем на колбеках\n\nconst onSuccess = user => console.log(`✅ Resolved`, user);\nconst onError = error => console.log(`❌ Rejected`, error);\n\n// const fetchUserByName = (name, resolve, rejected) => {\n// setTimeout(() => {\n//   const isDone = Math.random();\n//   if (isDone < 0.2) {\n//     console.log('Success');\n//     const user = { name: 'Mango', age: 21, email: 'mango@gmail.com' };\n//     resolve(user);\n//   } else {\n//     console.log('Error');\n//     rejected('Error, not found');\n//   }\n// }, 1500);\n// };\n\n// fetchUserByName('Mango', onSuccess, onError);\n\n//? Запит за користувачем на промісах\n// const fetchUserByName = name => {\n//   console.log('Робимо запит на сервер');\n//   return new Promise((resolve, rejected) => {\n//     setTimeout(() => {\n//       const isDone = Math.random();\n//       if (isDone < 0.5) {\n//         console.log('Success');\n//         const user = { name: 'Mango', age: 21, email: 'mango@gmail.com' };\n//         resolve(user);\n//       } else {\n//         console.log('Error');\n//         rejected('Error, not found');\n//       }\n//     }, 1500);\n//   });\n// };\n// fetchUserByName('Mango').then(onSuccess).catch(onError);\n\n// https://api.github.com/users/dykyys\n//https://developer.mozilla.org/ru/docs/Web/API/XMLHttpRequest\n\nconst getUser = name => {\n  const url = `https://api.github.com/users/${name}`;\n\n  return new Promise((resolve, rejected) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.open('GET', url);\n    xhr.send();\n    xhr.addEventListener('load', () => {\n      resolve(xhr);\n    });\n    xhr.addEventListener('error', () => {\n      rejected(xhr);\n    });\n  });\n};\n\ngetUser('qwerqwervdf')\n  .then(response => {\n    console.log(response);\n    if (response.status === 200) {\n      return JSON.parse(response.responseText);\n    }\n\n    return Promise.reject('Error!!');\n  })\n  .then(data => {\n    console.log(data);\n  })\n  .catch(error => {\n    console.log(error);\n  })\n  .finally(() => {\n    console.log('finally');\n  });\n"],"names":["name","url","Promise","resolve","rejected","xhr","XMLHttpRequest","open","send","addEventListener","$6405a20d1fcca048$var$getUser","then","response","console","log","status","JSON","parse","responseText","reject","data","catch","error","finally"],"version":3,"file":"promisification.7b0aef62.js.map"}